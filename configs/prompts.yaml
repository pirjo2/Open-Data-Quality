meta:
  name: Vetrò symbol prompting pack (heuristic)
  version: "2.1"
  notes:
    - Heuristic mode: if explicit metadata is missing, infer from column names, sample values and common open-data patterns.
    - Output format is strict for parsing: answer + confidence + evidence.
    - "Placeholders (optional): {dataset_description}, {columns}, {profile}, {N}."

symbols:
  s:
    type: binary
    prompt: |
      Task: Open data metadata check (Vetrò-style, heuristic).
      Question: Is the DATA SOURCE stated or reasonably inferable?
      Explicit source examples: publisher organisation/system name, source system, data owner.
      Heuristic inference allowed if columns/values clearly imply a source (e.g., official codes, "RIA", "Statistics Estonia", ministry names).

      OUTPUT FORMAT (exactly 3 lines):
      answer: 0 or 1   # pick ONE number
      confidence: 0.0 to 1.0
      evidence: short quote/phrase OR "inferred: <reason>" OR "none"

  dc:
    type: binary
    prompt: |
      Task: Metadata check (heuristic).
      Question: Is a CREATION/ISSUED DATE present or strongly implied?
      Explicit: "created/issued" date in metadata.
      Heuristic: presence of a clear creation timestamp column (CreatedAt/IssuedAt) or similar.

      OUTPUT FORMAT (exactly 3 lines):
      answer: 0 or 1
      confidence: 0.0 to 1.0
      evidence: quote OR inferred-from-column OR none

  lu:
    type: binary
    prompt: |
      Task: Metadata check (heuristic).
      Question: Is an update log / version history present or inferable?
      Explicit: changelog, versions list, release notes.
      Heuristic: presence of columns like Version, Revision, ChangeLog, or multiple dated versions.

      OUTPUT FORMAT (exactly 3 lines):
      answer: 0 or 1
      confidence: 0.0 to 1.0
      evidence: quote OR inferred-from-column OR none

  du:
    type: binary
    prompt: |
      Task: Metadata check (heuristic).
      Question: Are update DATES mentioned or inferable?
      Explicit: "last updated", dated versions, update timestamps.
      Heuristic: presence of columns like ModifiedAt/UpdatedAt/LastModified with timestamps.

      OUTPUT FORMAT (exactly 3 lines):
      answer: 0 or 1
      confidence: 0.0 to 1.0
      evidence: quote OR inferred-from-column OR none

  dp:
    type: date
    prompt: |
      Task: Date extraction (heuristic).
      Question: What is the dataset PUBLICATION date or LAST UPDATED date?
      Prefer explicit metadata. If missing, infer from ModifiedAt/UpdatedAt columns (use most recent date).
      If no reasonable date exists, answer UNKNOWN.

      OUTPUT FORMAT (exactly 3 lines):
      answer: YYYY-MM-DD or UNKNOWN   # pick ONE
      confidence: 0.0 to 1.0
      evidence: quote OR inferred-from-column OR none

  sd:
    type: date
    prompt: |
      Task: Date extraction (heuristic).
      Question: What is the START date of the time period referred by the dataset?
      Prefer explicit metadata. If missing, infer from the earliest date-like column (min date).
      If no reasonable date exists, answer UNKNOWN.

      OUTPUT FORMAT (exactly 3 lines):
      answer: YYYY-MM-DD or UNKNOWN
      confidence: 0.0 to 1.0
      evidence: quote OR inferred-from-column OR none

  edp:
    type: date
    prompt: |
      Task: Date extraction (heuristic).
      Question: What is the END date of the time period referred by the dataset?
      Prefer explicit metadata. If missing, infer from the latest date-like column (max date).
      If no reasonable date exists, answer UNKNOWN.

      OUTPUT FORMAT (exactly 3 lines):
      answer: YYYY-MM-DD or UNKNOWN
      confidence: 0.0 to 1.0
      evidence: quote OR inferred-from-column OR none

  ed:
    type: date
    prompt: |
      Task: Date extraction (heuristic).
      Question: What is the EXPIRATION date of the previous dataset version?
      If not explicit, you may infer expiration as the end date of the previous period (if clearly implied).
      If no reasonable date exists, answer UNKNOWN.

      OUTPUT FORMAT (exactly 3 lines):
      answer: YYYY-MM-DD or UNKNOWN
      confidence: 0.0 to 1.0
      evidence: quote OR inferred-from-reason OR none

  c:
    type: binary
    prompt: |
      Task: eGMS/Dublin Core presence (heuristic).
      Field: Category/Subject/Theme.
      Question: Is a category/theme present OR inferable from dataset description/column names?
      Heuristic: obvious topic columns like "Vaccination", "Budget", "Transport", etc.

      OUTPUT FORMAT (exactly 3 lines):
      answer: 0 or 1
      confidence: 0.0 to 1.0
      evidence: quote OR inferred-from-topic OR none

  t:
    type: binary
    prompt: |
      Task: eGMS/Dublin Core presence (heuristic).
      Field: Title.
      Question: Is a title present OR inferable as a clear dataset name/topic in the context?
      Heuristic: if context describes the dataset purpose clearly, treat as inferred title.

      OUTPUT FORMAT (exactly 3 lines):
      answer: 0 or 1
      confidence: 0.0 to 1.0
      evidence: quote OR inferred-from-description OR none

  d:
    type: binary
    prompt: |
      Task: eGMS/Dublin Core presence (heuristic).
      Field: Description.
      Question: Is a human-readable DESCRIPTION present OR inferable (context explains what data represents)?
      Heuristic: if column names + profile clearly describe the dataset, treat as inferred.

      OUTPUT FORMAT (exactly 3 lines):
      answer: 0 or 1
      confidence: 0.0 to 1.0
      evidence: quote OR inferred-from-columns OR none

  id:
    type: binary
    prompt: |
      Task: eGMS/Dublin Core presence (heuristic).
      Field: Identifier.
      Question: Is an identifier present or inferable?
      Heuristic: presence of columns like Id/UUID/Identifier/Permalink.

      OUTPUT FORMAT (exactly 3 lines):
      answer: 0 or 1
      confidence: 0.0 to 1.0
      evidence: quote OR inferred-from-column OR none

  pb:
    type: binary
    prompt: |
      Task: eGMS/Dublin Core presence (heuristic).
      Field: Publisher.
      Question: Is publisher present OR inferable?
      Heuristic: organisation-like values/columns (e.g., Ministry, Agency, RIA, Statistics Estonia) OR known official codes strongly tied to a publisher.

      OUTPUT FORMAT (exactly 3 lines):
      answer: 0 or 1
      confidence: 0.0 to 1.0
      evidence: quote OR inferred-from-organisation OR none

  cv:
    type: binary
    prompt: |
      Task: eGMS/Dublin Core presence (heuristic).
      Field: Coverage (geo/temporal).
      Question: Is coverage present OR inferable?
      Heuristic: geo columns (county/municipality/EHAK/country) imply geographic coverage; date columns imply temporal coverage.

      OUTPUT FORMAT (exactly 3 lines):
      answer: 0 or 1
      confidence: 0.0 to 1.0
      evidence: quote OR inferred-from-columns OR none

  l:
    type: binary
    prompt: |
      Task: eGMS/Dublin Core presence (heuristic).
      Field: Language.
      Question: Is language present OR inferable?
      Heuristic: if all text values appear in a single language (e.g., Estonian place names), infer language with lower confidence.

      OUTPUT FORMAT (exactly 3 lines):
      answer: 0 or 1
      confidence: 0.0 to 1.0
      evidence: quote OR inferred-from-values OR none

  s1:
    type: binary
    prompt: |
      Task: 5-star open data check (heuristic).
      Criterion (1-star): Open license.
      Explicit: license field/name (CC BY, CC0, etc).
      If missing, answer 0 (do NOT guess).

      OUTPUT FORMAT (exactly 3 lines):
      answer: 0 or 1
      confidence: 0.0 to 1.0
      evidence: quote OR none

  s2:
    type: binary
    prompt: |
      Task: 5-star open data check (heuristic).
      Criterion (2-star): Structured & machine-readable.
      Heuristic: tabular columns + consistent types implies structured data.

      OUTPUT FORMAT (exactly 3 lines):
      answer: 0 or 1
      confidence: 0.0 to 1.0
      evidence: quote OR inferred-from-tabular-structure OR none

  s3:
    type: binary
    prompt: |
      Task: 5-star open data check (heuristic).
      Criterion (3-star): Non-proprietary open format (CSV/JSON/XML).
      Heuristic: infer from file type if available.

      OUTPUT FORMAT (exactly 3 lines):
      answer: 0 or 1
      confidence: 0.0 to 1.0
      evidence: quote OR inferred-from-format OR none

  s4:
    type: binary
    prompt: |
      Task: 5-star open data check (heuristic).
      Criterion (4-star): Uses URIs/identifiers.
      Heuristic: presence of stable identifier columns (UUID, URI-like strings, Id) -> infer with lower confidence.

      OUTPUT FORMAT (exactly 3 lines):
      answer: 0 or 1
      confidence: 0.0 to 1.0
      evidence: quote OR inferred-from-identifier-pattern OR none

  s5:
    type: binary
    prompt: |
      Task: 5-star open data check (heuristic).
      Criterion (5-star): Links to other datasets (Linked Open Data).
      Explicit: RDF links, external dataset links, linked open data references.
      If not explicit, answer 0 (do NOT guess).

      OUTPUT FORMAT (exactly 3 lines):
      answer: 0 or 1
      confidence: 0.0 to 1.0
      evidence: quote OR none

  ncm:
    type: count_0_to_N
    prompt: |
      Task: Column documentation coverage (heuristic).
      Question: How many columns have explicit per-column metadata/definitions?
      Heuristic: if column names are self-explanatory, you may count them as partially documented with lower confidence.

      OUTPUT FORMAT (exactly 3 lines):
      answer: integer 0..N
      confidence: 0.0 to 1.0
      evidence: short reason OR none

  ncuf:
    type: count_0_to_N
    prompt: |
      Task: Column comprehensible format count (heuristic).
      Question: How many columns are in a comprehensible user-friendly format?
      Heuristic: clear names + readable values (not only cryptic codes) count as comprehensible.

      OUTPUT FORMAT (exactly 3 lines):
      answer: integer 0..N
      confidence: 0.0 to 1.0
      evidence: short reason OR none

  ns:
    type: count_0_to_N
    prompt: |
      Task: Standards applicability count (heuristic).
      Definition: ns = number of columns where a recognized standard could apply (ISO dates, ISO country codes, EHAK-like region codes, classifications).
      Heuristic: if a column looks like a code system (EHAK, ISO), count it as applicable.

      OUTPUT FORMAT (exactly 3 lines):
      answer: integer 0..N
      confidence: 0.0 to 1.0
      evidence: list 1-3 example columns OR none

  nsc:
    type: count_0_to_N
    prompt: |
      Task: Standardized columns count (heuristic).
      Definition: nsc = number of columns that actually follow the associated standard consistently.
      Heuristic: if sample values match the expected standard pattern (e.g., date format, numeric codes), count as standardized.

      OUTPUT FORMAT (exactly 3 lines):
      answer: integer 0..N
      confidence: 0.0 to 1.0
      evidence: list 1-3 example columns OR none
